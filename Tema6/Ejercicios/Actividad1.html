<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Actividad Tema 6</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script>
        class ValidacionMat {
            constructor() {
                this.matricula = document.getElementById("matricula");
                if (this.matricula) {
                    this.inicializarEventos();
                }
            }


            validarMatricula() {
                if (this.matricula.validity.patternMismatch) {
                    this.matricula.setCustomValidity("Debe seguir el patrón! 4 números seguidos de 3 letras.");
                } else {
                    this.matricula.setCustomValidity("");
                }
            }


            inicializarEventos() {
                this.matricula.addEventListener("keyup", this.validarMatricula.bind(this));
            }
        }

        class FocoDni {
            constructor() {
                this.etDni = document.getElementById("dniSpan");
                if (this.etDni) {
                    this.inicializarEventos();
                }
            }

            inicializarEventos() {
                this.dni = document.getElementById("dni");
                this.dni.addEventListener("focus", this.enfoqueDni.bind(this));
                this.dni.addEventListener("focusout", this.desenfoqueDni.bind(this));
            }

            enfoqueDni() {
                this.etDni.innerHTML = "Editando DNI....";
            }

            desenfoqueDni() {
                this.etDni.innerHTML = "Dni";
            }
        }

        window.onload = function () {
            new ValidacionMat();   //  Define una función sin nombre que crea un objeto de ambas clases cuando se ejecuta
            new FocoDni();
        };
    </script>
</head>

<body>
    <h2>SOLICITUD DE BAJA DE VEHÍCULOS</h2>
    <br>
    <br>
    <style>
        input:invalid {
            border: 2px solid red;
        }

        input:valid {
            border: 2px solid green;
        }
    </style>

    <form id="form" action="Actividad1.html">
        <div class="mb-3">
            <label for="basic-url" class="form-label"><strong>DATOS DEL VEHÍCULO</strong></label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon3">Matrícula</span>
                <input type="text" class="form-control" id="matricula" name="matricula" pattern="^[0-9]{4}[A-Za-z]{3}" required>
                <span class="input-group-text" id="basic-addon3">Fecha Matriculación</span>
                <input type="date" class="form-control" id="fechaMat" name="fechaMat" required>
                <span class="input-group-text" id="basic-addon3">6 últimos dígitos (nº bastidor)</span>
                <input type="text" class="form-control" id="bastidor" name="bastidor" pattern="^[0-9]{6}$" required>
            </div>
            <br>
            <br>

            <label for="basic-url" class="form-label"><strong>DATOS DEL TITULAR</strong></label>
            <br>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon3">Nombre</span>
                <input type="text" class="form-control" id="nombre" name="nombre" required>

                <span class="input-group-text" id="basic-addon3">Apellidos</span>
                <input type="text" class="form-control" id="apellidos" name="apellidos" required>

                <span class="input-group-text" id="basic-addon3">Domicilio</span>
                <input type="text" class="form-control" id="domicilio" name="domicilio" required>
            </div>
            <br>
            <br>
            <div class="input-group">
                <span class="input-group-text" id="dniSpan">Dni</span>
                <input type="text" class="form-control" id="dni" name="dni" pattern="^[0-9]{8}[A-Za-z]$" required>

                <span class="input-group-text" id="basic-addon3">Correo electrónico</span>
                <input type="email" class="form-control" id="correo" name="correo" required>

                <span class="input-group-text" id="basic-addon3">Teléfono</span>
                <input type="text" class="form-control" id="telefono" name="telefono" pattern="^[0-9]{9}$" required>
            </div>
            <br>
            <br>
            <div class="form-check">
                <p><strong>Tipo de Baja</strong></p>
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" required>
                <label class="form-check-label" for="flexRadioDefault1">
                    Baja Temporal
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                <label class="form-check-label" for="flexRadioDefault2">
                    Baja Definitiva
                </label>
                <br>
                <br>
                <br>
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>

</html>